<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>JavaScript闭包</title>
</head>
<body>
<p>全局变量计数。</p>
<button type="button" onclick="myFunction()">计数!</button>
<p id="demo">0</p>
<script>
    var counter = 0;
    function add() {
        return counter += 1;
    }
    function myFunction() {
        document.getElementById("demo").innerHTML = add();
    }
</script>


<p>局部变量计数。</p>
<button type="button" onclick="myFunction()">计数!</button>
<p id="demo1">0</p>
<script>
    function add() {
        var counter = 0;
        return counter += 1;
    }
    function myFunction() {
        document.getElementById("demo1").innerHTML = add();
    }
</script>

<!--JavaScript 内嵌函数-->
<p>局部变量计数。</p>
<p id="demo2">0</p>
<script>
    document.getElementById("demo2").innerHTML = add();
    function add() {
        var counter = 0;
        function plus() {counter =+ 1;}
        plus();
        return counter;
    }
</script>

<!--JavaScript 闭包-->
<p>局部变量计数。</p>
<button type="button" onclick="myFunction()">计数!</button>
<p id="demo3">0</p>
<script>
    var add = (function() {
        var counter = 0;
        return function() {
            return counter += 1;
        })();
        function myFunction() {
            document.getElementById("demo").innerHTML = add();
        }
    })
</script>








</body>
</html>