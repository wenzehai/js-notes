<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			#small {
				width: 300px;
				height: 300px;
				position: relative;
				float: left;
				/*margin-left: 20px;*/
			}
			#small img {
				width: 300px;
			}
			#small div {
				width: 100px;
				height: 100px;
				background: greenyellow;
				opacity: 0.5;
				position: absolute;
				top: 0;
				left: 0;
				cursor: move;
				display: none;
			}
			#big {
				width: 500px;
				height: 500px;
				/*border: 1px solid red;*/
				float: left;
				overflow: hidden;
				position: relative;
				display: none;
			}
			#big img {
				position: absolute;
				top: 0;
				left: 0;
			}
		</style>
		<script type="text/javascript">
			window.onload = function(){
				var small = document.getElementById('small');
				var div = document.querySelector('#small div');
				var big = document.getElementById('big');
				
				//鼠标移入
				small.onmouseover = function(){
					
					div.style.display='block';
					big.style.display='block';
				}
				//鼠标移动的时候，让方块跟着鼠标走
				small.onmousemove = function(ev){
					/*
					 *注意：鼠标的位置是不能动，想要让鼠标的位置移动到方块的中心
					 *
					 *
					 */
					var l = ev.clientX -div.offsetWidth/2 - small.offsetLeft;
					var t = ev.clientY - div.offsetHeight/2 - small.offsetTop;
					if(l < 0){
						//绿色快是相对于父级定位的，如果小于0的话，就代表已经超出父级的左边了，所以让它等于0
						l = 0;
					} else if(l > (small.offsetLeft-div.offsetWidth)){
						l = (small.offsetLeft-div.offsetWidth);
					};
					div.style.left = l + 'px';
					div.style.top = t + 'px';
					/*
					 *限制方块活动范围
					 * 
					 * 
					 * 
					 * 
					 */
				}
				
				
				
				
				
				//鼠标移出
				small.onmouseout = function(){
					div.style.display='none';
					big.style.display='none';
					
				}
			};
		</script>
	</head>
	<body>
		<div id="small">
			<img src="img/big.jpg"/>
			<div></div>
		</div>
		<div id="big">
			<img src="img/big.jpg" alt=""/>
		</div>
		
	</body>
</html>
